Q // .c_str() <- 얘뭐임..? // 그냥 문자열 처리해주는놈같음 std::wstring 관련된 무언가

new Q : 그래서 텍스쳐 좌표가 뭐임???? 버텍스 버퍼에 p c t 가 있는데, p는 알겠는데 t는 대체 어떻게 작동하는거지?
버텍스 버퍼의 p와 t 사이의 상관관계를 좀 조사할 필요가 있겠는데;;;;


9/1 - 오늘은 텍스처

텍스처란 무엇인가? 일단 이미지라고 보면 된다, 하지만 이미지는 픽셀에 저장된 컬러일 뿐이지만

텍스처란 추상적인 개념으로 범위가 더 크다 

20분까지 음성으로 진행, Tbasis 1권 198페이지

턱셀?픽셀? 민맵?윈맵? 민맥!



일반적으로 한 장의 텍스처를 읽어들이면 민맥이 만들어진다
원근감과 관련되어 있음, 멀리있는놈한테 고품질 텍스처를 뿌려줄 이유가 없다
민맥 컨트롤이 자동으로 들어간다

3D 텍스처는 일반적으로 볼륨 텍스처라고 많이 쓴다 
큐브 텍스처 하면 6개의 텍스처의 배열이다느낌
툴킷..을 사용하지 않을것이다?

서브리소스라는 개념이 등장, 민맥의 자식의자식의자식? 아무튼 민맥 밑에 있는 무언가인듯
민맵에 인덱스를 부여하고싶어! 이럴때 민맵 하위 텍스처들에게 접근한다? 걔들이 서브리소스

**텍스처 좌표를 나타낼때는 xyz 대신 uvw를 사용한다!** 
텍스처 주소방식도 플랫폼에 따라 다르다
DX에서는 화면좌표계 기준으로 원점이 정해지고 크기에 상관없이 0~1로 정해진다

10 넘어와서는 sdk를 사용하지 않는다 (지원하지 않는다) // 멀티스레드 렌더링으로 바뀌면서 그러케되엇다

마이크로소프트 깃에 가면 이거저거 많다 // DirectXTK, DirectXTex, DirectXMath 
11버전과 12버전을 별도로 제공한다

TK만 사용을 할것이다? 사용안한다면서요;; 아 몬가 좀 다른? 듯? 아무튼


DirectXTK_Desktop_2019.sln 이걸로 열어야한다
요거슨 라이브러리다
lib 폴더에 라이브러리 파일을 넣고 include폴더 안에 dxtk폴더를 만들어서 inc폴더의 헤더파일들을 넣는다

WIC 윈도우 이미지 컴퍼넌트? // DDS를 제외한 압축 포맷 파일들을 읽어들임
DDS 다이렉트 드로우 서피스? DirectX에서 사용하는 압축 포맷을 얘기한다
암튼 저거 두개를 쓴다

경로를 디폴트로 주려면 속성->일반->추가 포함 디렉터리에 ../../include/dxtk
링커에 가서 추가 라이브러리 디렉터리에 ../../lib

ID 3D11 쉐이더 리소스 뷰 : 얘를 필요로 하는 것이다
DirectX::CreateWICTextureFromFile

// 아마 쉐이더? 에서 보통쓰는거?
pnct : p(위치) n(노말) c(컬러) t(텍스처 좌표) 

그래서 텍스처 좌표랑 그냥 p좌표랑은 뭐가 다름????

나는 저 쉐이더파일 안에서 일어나는 일들을 이해하질 못하겠어,,, 밀린 강의들 들으면 어케될라나
ㅇㅇ 밀린 강의 듣고 들으니까 이해되네 ㅋㅋ

픽셀 쉐이더에다가 텍스처를 넘길것이다 (쉐이더 리소스 뷰 를? 넘길것이다?)
쉐이더리소스뷰 : 이게 인터페이스다, 이게 하나의 이미지라고 보면 된다

CreateWICTextureFromFile : 파일을 읽어와서 파일로부터 텍스처파일을 생성하는 함수
PSSetShaderResources(0, 1, &m_pTextureSRV);

쉐이더파일 안에서 Texture2D g_txTextureA : register(t0) // 텍스터 레지스터 0번에다가 넘겼다 이런뜻, 안붙여주면 자동적으로 0번
g_txTextureA.Sample(?, t) : 샘플링한다는?뜻?
SamplerState g_SampleA : register(s0) // 이건 굳이 지금 알 필요는 없다... 는데 뭐지 -> 밑으로


// 원래 왼쪽인데 좌우 뒤집오 오 개쩌네 이게 저렇게 뒤집히네
0   ---1,4      		1,4 --- 0
                       -> 
2,3 --- 5 			5  --- 2,3

샘플링 할때 방식이 쥰내 많다 (크기를 줄이고 늘이고 막 하거나 그런거) 
이거 예ㅔ에엣날에 컴퓨터그래픽스 할때 좀 배웠던 것 같은데
암튼 저런것들을 다 컨트롤 하는게 샘플러 스테이트!

버텍스 쉐이더랑 픽셀 쉐이더를 합?칠 거에요?
Shape.txt로 합치고 버텍스쉐이더 메인을 VS, 픽셀쉐이더 메인을 PS로 바꿈

2:25 근처에서 그 프로젝트 통째로 어떻게 하셨는데 놓침;; // 오.. 이거 개편하네 
아무튼 벡터로 오브젝트리스트를 만들어서? 10개 막 어케 하실생각이신건가
이제부터는 리소스 재사용이 반드시 필요하다! 근데 일단 무시하고..


일단 리소스랑 쉐이더리소스뷰(SRV) 두개만 따로 빼서 클래스로 만들꺼임
로드텍스쳐 함수도 텍스쳐 클래스로 가져와서 로드 함수로 바꿔삠
디바이스랑 콘텍스트도 일단 멤버변수로 갖고옴
인잇 프레임 렌더 릴리즈도 일단은 만들어둠

텍스처 클래스 갖다쓰는걸 포인터로 바꿨음, 근데 그러면 뉴를 해줘야하잖아
그러니까 텍스쳐 매니저가 필요하다, 매니저를 만들꺼임
매니저같은경우는 cpp에 넣는거시 좋다? 왜? 싱글톤으로 바꿀꺼다
몬가..몬가..모모..모모몬가... 여기저기 너무 바뀌?는데..

중복 제거 기능이 반드시 필요?하다

쉐이더도 클래스로 빼고 쉐이더 매니저도 빼셨는데
그런걸 하셨다는건 알겠는데 어케하시고있는지를따라갈수가ㅇ벗다

쉐이더든 텍스처든 매니저가 있는 것들은 외부에서 어떻게 하면 안된다
로딩 삭제는 전부 매니저가 한다


플라이웨이트?패턴이다? 플라이웨이트 패턴을 이용해서 매니저를 만들었따?
싱글톤 패턴으로 계속 써먹는게 바로 플라이웨이트 패턴
플라이웨이트의 핵심은 공유! 
공유했다는거슨 곧 중복제거!

돌아가는 구조가 좀 어지러우니까 정리를 좀 해보자면
베이스오브젝트에서 크리에이트쉐이더를 하면 쉐이더매니저의 로딩이 호출되고
쉐이더매니저의 로딩에서 쉐이더 클래스를 하나 new로 새로 만들고 
쉐이더 클래스의 Load를 호출 (받아온 파일이름으로), 그러면 쉐이더 클래스의 내용물 (진짜 쉐이더?)들이 채워짐 
새로 만든 쉐이더가 중복이 아니면 쉐이더 매니저가 지 쉐이더 리스트에도 넣고 그 쉐이더를 베이스오브젝트에 반환해줌

베이스 오브젝트의 로드텍스처, 텍스처매니저랑 텍스처도 비슷




그리고 타이머를 가져와서 01234~
텍스처를 포인터로 놔두고 실시간 교체가 가능하다! 사실 그것이 스프라이트!
근데 그 과정이 존나게 모몬가다! 강의를 다시 들으면서 따라가보자!
