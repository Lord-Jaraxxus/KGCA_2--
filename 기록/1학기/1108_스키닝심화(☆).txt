11/8(화) - ㅋ ㅋㅋ ㅋㅋㅋ ㅋㅋㅋㅋㅋ iwㅋ ㅋㅋㅋㅋ 위치땜에 ㅋㅋ ㅋㅋ ㅋㅋㅋㅋㅋㅋ

T자 포즈(드레스 포즈)를 뼈대로 삼고 뼈대에다가 스킨을 붙여놓고 애니메이션을 준다? 
-> 애니메이션은 뼈대에다가 준다, 뼈대에 붙어있는 스킨은 뼈대 따라서 움직인다 // 여기서 뼈대=행렬

스키닝 오브젝트에 m_bSkinned로 스키닝이 드갔냐안드갔냐 판단하걷사? 
와 ParseMeshSkinning만드시네.. 근데 이건 일단 디폴트가 TOS기준이지 TO기준이 아닌듯

디포머라는 도구가 있다? 머지? -> 뼈대에다가 스킨을 붙이는 장치, 전문용어로 리깅 도구 
메쉬->겟디포머 하믄 FbxSkin이라는 포인터로 해당하는 도구가 리턴이 된다,,
man이라는 fbx를 갖고 사용을해볼것 

클러스터? 너클 클러스터 발사~ 이제 하늘이 무너진다~
클러스터->덩어리 (뼈대에 붙이는 덩어리, 일반적으로 구)
클러스터 카운터만큼의 for문이 돌아가믄 댄다, 암튼 얘도 스킨->겟클러스터로 갖고오고
클러스터 사이즈? 아니 저게 다 뭐람 그러게요 저게 다 뭘까요

임의의 1개 정점에 영향을 미치는 뼈대의 개수, 그 뼈대의 인덱스, 그리고 가중치를 얻어올 수가 있다
근데 우리가 정점마다 저장을 해야한다, 그래서 Weight라는 구조체를 하나 만들것
하나는 인덱스 벡타, 하나는 가중치 벡타

정점에 영향을 미치는 행렬(뼈대)가 4개 이상일 수도 있음, 하지만 제일 큰거 4개만 하면 나머지는 무시해도 좋을 정도의 수준
근데 웨이트가 제일 큰놈 4마리를 선별하는 작업은 필요하다

Mesh->GetControlPointsCount() -> 메쉬의 정점 개수와 동일해야 한다, 같지 않다면 디자이너 잘못임 암튼그럼

암튼 저기 안에서 뭐시기 링크로 노드를 찾아서 그 노드로 오브젝트의 인덱스 (본 인덱스)를 갖고올 수 있다
Weight구조체에서 insert함수를 만듬, 정렬을 여기서 하시네? 

클러스터가 사실 노드라고 보면 된다? 뼈대가 영향을 미치는 정점 덩어리 라고 봐도 된다..


상당히 중요한 거 할거임 -> 메쉬에서 데이터를 뽑으면 좌표계가 로컬이 아니라 월드다
돌겠네.. 드레스 포즈 자체가 월드에 배치된거다? ㄹㅇ임?
월드 좌표계를 본 좌표계로 돌려놔야한다....>???? 뼈대공간으로 변환한다..
뼈는 오브젝트 애니메이션이다,, 아무튼 항상 뼈대를 따라가야 한다라고 보면 될듯..
그래서 뼈대공간으로 변환하는 행렬이 필요하다

바인드포즈, 레퍼런스글로벌인잇포지션 
아니 당최 아직도 이해가 안가네 로컬 월드 기준이뭥야시ㅏㄹ 
돌겠다;;;; 이해를못하겠음;;

아무튼 저 행렬이 필요하니까,, FbxFile에 맵으로 저것들을 저장해놓는다,, 
셋중에 뭘쓸건지는 선택임, 정점에 노드를 넣어놨으면 1, 이름을 넣어놨으면 2, 인덱스를 넣어놨으면 3.. 
정점이 영향을 네개 받으면 네개 바인드포즈 행렬의 뭐시기..저시기... 막 곱?해가지고 뭐 어떻게? 아무튼 스까서 구했던가?
그래서 g_matBone에 행렬 두개를 결합해서 넣을거다..

졸려서그런가이해를못해서그런가머리에뭐가들어오지를않네ㅠㅠ
그.. 인덱스..로 하면 막 총 뼈대?가? 70갠데 50개에만 영향을받고? 그런게 있으면 짝이 안맞아서 for문이 꼬여서 막 그 
아무튼 그래서 선생님은 이름으로 찾았었다,, 

하하 저럴줄알고 난 그냥 통일을 해버렸지 서브메테리얼 있던말던 메테리얼 에테리얼 에테리얼비전술사


오브젝트 단위로 바인드포즈맵이 있어야칸다? 음~~~~ 완벽하게 이해못하겠어

상수버퍼도 오브젝트마다 있어야한다..? 버퍼는 오브젝트마다 하나씩 갖고있자..
사실 상수버퍼를 계속 갱신해주면서 돌려도 되긴한다, 그것도 괜찮긴 하다 
오브젝트 애니메이션은 애니메이션을 파일에서 한번만 돌려도 된다, 
근데 스키닝은 오브젝트마다 돌려야한다

로딩시간 잡아먹는 주범 -> 타임 함수
로드 애니메이션에서 타임 쓸데없이 여러번 부르는거 킹받아서 고치러가심.. 하지만 난 뭐가 어떻게 돌아가는지 모르겠고

가방은 오브젝트 애니메이션, 가방이 등짝에 붙어있어야 정상임



하ㅓ 돌겠네 진짜 오늘 좀 벽느끼는데?