11/10(목) - 잠좀일찍자자영민아;;



N드라이브 -> 도서 -> 책 pdf가 되게 많다, 볼라믄 바라  





지금은 전체 프레임이 풀로 나오는데, 동작마다 뭐 어떻게 대충 거시기

바인드 포즈 애니메이션이라는 것을 구현해야 한다? 지금까지는 그냥 캐릭터 애니메이션

부분 렌더링을 해봐야한다? 그래야 이해가 쉽다.. ㅎ믐


샘플 렌더에서 이거저거 쓰지말고 FbxFile 클래스의 렌더로 옮김 
-> 그 Fbx파일의 렌더로 갈 필요는 없을 것 같고, 캐릭터 렌더로 그 드로우리스트 싹다 돌리고 콘스탄트버퍼 지정하고 이지랄하는걸 다 옮기면 될듯?
    샘플 렌더에서는 그냥 캐릭터->셋매트릭스랑 캐릭터->렌더만 치게끔

몬가모몬가 샘플에서도 셋매트릭스 호출할수있게끔? 아무튼 몬가 바꾸셨는데 술물이새끼랑 카톡하느라 놓침;; -> 
렌더에는 콘텍스트가 하나씩 전달이 되어야 한다, 그래서 파일 클래스에 콘텍스트 매개변수로 받는 렌더도 하나 만듬(상속과는 상관없는거)
-> 얘내 두줄도 결국 샘플에서 깔끔하게 정리하기 위한 작업임

FbxFile이라는거는 리소스 개념으로 바뀌어야한다,, FbxList가 매니저의 역할을 해줘야한다  


파일에서 상수버퍼 관련된걸 싹 빼버림.. 
캐릭터를 만들어서 캐릭터를 뿌리는 느낌으로 바뀌어야한다
구조가 완전히 달라지니까 그냥 샘플 하나 더만들꺼임, 로더3이 되겄네
요기서부터는 선생님이 완성을 거의 못해줄거야, 거의 의사코드만 쳐줄꺼야 -> 뎃

업데이트프레임에서 본이랑 스킨본 따로잇음 -> 이거 좀 다시 봐야할듯, 이해가 영 안댐..

아무튼 캐릭터 클래스가 파일 클래스를 멤버 변수로 갖고있도록 (포인터로) 하고, 

매니저를 통해서 가져와야하는데 지금은 일단 그냥 샘플에서 직접 쭉 넣어줌, 매니저 뭐시기는 우리가 아랑서 쳐라

일단 똑같은 짓거리 하는 캐릭터 두개를 띄웠는데, 캐릭터마다 다른 모션을 취하도록 해야댐
모든 캐릭터가 업데이트프레임 똑같이 호출하니까 많이 띄울수록 애들이 빨라짐 (SecondPerFrame이 중복해서 올라가니까)
-> 그래서 캐릭터 마다 애니메이션 프레임이 있어야 한다, 애니메이션 구간도 캐릭터마다 달라야하니까 얘도 필요하고

그래서 업데이트 프레임 안에서 지금 몇프레임인지 가져오는게 아니라, 매개변수로 외부에서 받아오도록 바꿈
그리고 업데이트 프레임에서 상수버퍼를 가져와야? 캐릭터 클래스 멤버변수로 넘겨주나?
상수버퍼를 받던 데이터를 받던 알아서 해라,, 

아무튼 캐릭터마다 스타트프레임 엔드프레임 다르게 줘도 지금 똑같은 동작을 취하고 있는디 (업데이트 프레임에서 FbxFile의 콘스버퍼 하나에 계속 업데이트 해서) 
이걸 어떻게든 다른 모션만 취하게 하도록 하면 되지않을가

그래서 니꺼바꾸지말고 내가 넘긴거 바꿔 하면서 콘스버퍼를 넘기는 느낌으로다가 업데이트프레임을 바꿈
인줄 알았는데 버퍼넘기지 말고 cb데이타를 넘겨서 여기 채워와 하는걸로 바?꿈
이젠 다시 업데이트프레임이 프레임도 안받아오네? ㅋㅋ 돌겠따 아몰랑 

졸려죽겟네..코드치시는거이해를전혀못하겠는게졸려서그런건지내가그전껄이해못해서그런건지아니면그냥
결국 콘스버퍼를 왜 오브젝트마다 가지고 있느느냐 -> 이걸 이해해야 뭐가 이해가 될듯;;; 
스키닝 오브젝트면 메쉬마다 상수버퍼가 다르다 -> 그니까 대체 왜여..????
아 그 그새끼때문인가? 그 뭐냐 바인딩포즈인가 그새끼를 콘스버퍼 들어갈 행렬 앞에 싹다 곱해줘야 해서? 
근데 그러면 그냥...그냥... 정점에다 미리 곱해놓으면 되는게..? 생각좀해보자 

암튼 그런 느낌으로 액션 테이블 막 만들어서 w누르면 걷고 space누르면 점프하고 대충 이런느낌으로다가 

근데 동작과 동작이 부드럽게 이어져야 함 -> 모션 블렌딩 들어가야한다, 이건 뭐 나중에하것지


암튼 이제 바인드 포즈 애니메이션? 으로 틀건데, 
일단 짜잘짜잘하게 뭐 액션이 루프를 도니마니 여기저기 추가하거나 뜯어고치고 계신데 이제 그런거 하나하나 따라적지는 못하겠다

동작들이 다 파일로 되어있다?? 메쉬 따로, 동작들 다 따로 fbx파일이 따로 있는거 -> 바인드 포즈 애니메이션 (ex - swat.FBX ~~)
그..... 럼 어케쓰나요? 막 어케저케 가져와서 스까서 막 해야카나? 

액션 파일이 있느느냐 없느느냐에 따라서 애니메씬 정보를 어디서 갖고올지가 달라지게 만드심 (없으면 지꺼에서, 있으면 액션파일에서 갖고옴) 
비슷하게 업데이트 스켈레톤&스키닝 할때도 지꺼쓸지 따로 파일쓸지 하고 ㅇㅇ 가 아니라;;
애니메이션 데이타랑 스킨 데이타랑 분리가 됐다? 아 스킨 데이타는 원래꺼 써도 되나보네? 써도 되나가 아니라 써야하는건가? 아몰랑

스왓@walking.FBX -> 얘는 애니메이션이 원점에서 움직이는 게 아니라, 진짜 애니메이션 자체가 월드에서 움직이는거 (루트 액션? 암튼 그거라고 부름)
저걸 뭐 원점에서 움직이도록 하거나 암튼 뭐 처리를 해줘야한다

바인드포즈 행렬까지는 T포즈 파일에서 갖고있고, 애니메이션 씬 정보는 액션 파일들이 갖고있?다

