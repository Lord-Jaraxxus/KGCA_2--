11/14(월) - 오 갑자기 생각난건데 3D게임 만들때 엑스컴라이크 만들어보고싶다


오후에 언리얼엔진 최신버전(5.0.3) 설치를 하세요 - 오예? 마참내?


pos의 41 42 43을 셋포지션 뭐 이런걸로? 월드행렬이랑 pos랑 동시에 갱신을 해줘야? 그런 작업들은 우리가 하세요? 힝잉
어.. 박스가 카메라 위치보다 높게 있을때는 카메라 위치가 그놈으로 가도록 대충 max로 어케저케함, 뭐 이런 것 정도야

저번에 복붙해오신 함수 설명 (점 대충 넣어놓고 점이 들어있는 셀 찾아서 점 네개 보간때려서 넣어놓은 점의 높이를 찾아내는 함수)
그 셀 안에 점이 위쪽 삼각형(페이스)에 있는거야 아래쪽 삼각형에 있는거야 얶떢케 찾어? -> 점 포함 테스트? (이건 좀 알고?가야 한다)
대충 내적아님?ㅋㅋ 아 내적은 아니네? t+s가 1이 넘어가면 아래쪽이다 (가로지르는 대각선 라인이 t+s가 1이니께) -> 그림은...음..... 따라그리기 귀찮은데.. 아 그래도 그려놓자
Q : 근데 셀 중간만 옴폭 파여있으면 얶떢함?? -> 비슷하게 맵에 구멍이 뚫려있으면 이방식이 안된다, 그럴땐 3D 뭐시기 들어가야 한다 카심



게임의 툴 쪽으로 틀면서 수업을 이어나갈?것, 포트폴리오로 게임의 툴이 만들어져야만 어디가서 좀 알아준다
내일부터 언리얼엔진! 와! 아니 근데 언리얼엔진 보면서 비슷한걸 dx로 만들어내는건가...?
필요한 기능들은 여러분들이 알아서 갖다붙여야한다..? 뎃..

일단은 베이스를 만들어 줘야겠죠? 보통은 툴을 만든다 글면 MFC를 보통 쓴다? 그뭔
오늘은 툴 베이스를 깔고 엔진을 연동시키는 작업이 주작업이 될꺼에여
MFC라는건 그냥 장난감이다 장난감~ 

새 프로젝트 추가 -> MFC 앱 -> 선택하는게 되게 많은데 잠만여 놓쳣는데여
아무튼 클릭 몇번 했더니? 비주얼 스튜디오가 만들어져 있습니다..?
아무튼 이거를 왜쓴다? -> 툴의 베이스를 만들어내려고

단일 문서 + 오피스 했더니 오피스 기반의 툴이 만들어진다~

프로젝트 종류는 단일 문서로 대충 하면된다~ 
프로젝트 스타일은 뭘해도 상관없는데 MFC 스탠다드는 완전 올드한거,

탐색기 굳이 필요없고 출력하고 속성 도킹정도 -> 아직은 뭐가뭔지 1도 모르겠네 ㅋㅋ 
출력하고 속성은 우리의 수고를 상당히 덜어줄 수 있는 효자들이다
만들 때 없어도 나중에 집어넣을 수 있다~ 

아무튼 지금당장은 그냥 단일 문서로만 바꾸고 다음다음 하다가 출력+속성 넣던가 말던가 하고 다시 다음다음 하면 뿅하고 만들어진다~


어.. 일단 맵툴 이렇게 만들고 단일문서로만 바꾸고 출력+속성도 빼고 만드심 (소스가 복잡해지지않게)
암튼 여따가 연동을 할것, 속성 들어가서 평소 하던것처럼 이거저거 바꿔준다 

평소에 하던것처럼 샘플이라는 클래스를 하나 만들고, 기존에 있었던 내용들 고대~로 다 갖다 넣을거야 
어? 근데 그냥 인잇 프레임 렌더 릴리즈 틀만 남기고 내용은 싹 지우시넹
GAME_RUN 이거 윈도우 띄우는 거였는데 이제 필요 없음 (윈도우가 자동적으로 만들어진다?)
샘플 cpp에 pch.h 요것만붙여라, framework.h 이것도?

샘플이라는 클래스만 만들었지 한 게 없어, 이제부터 연동 들어갑니다?
윈도우 -> 어플리케이션 이야

샘플을 객체화해서 저기 어디냐 툴.h에 넣?는다?

우리 코어에서 윈도우가 없이 돌아가려면 뭐가 필요하냐? 
셋윈도우 센터윈도우 레지스터 등록 뭐 이런거 할 필요가 없다, 런도 필요가 없다; 아니 필요한게 뭐죠 그럼 그거빼고다? 
핵심 -> 윈도우 핸들, 얘를 어떻게 해서든 넘겨줘야한다

거 장난감이 너무 갖고놀기 복잡한거 아니오?

우리가 원하는건 뷰->클라이언트 창이야 
프레임이라는게 뼈대야, 프레임 안에 뷰가 붙어있고 뷰 안에 도큐먼트가 붙어있다

Afx로 시작하는 함수는 다 전역함수, AfxGetMainWnd로 프레임을 갖고오고
프레임->GetActiveView로 뷰를 갖고오고 
뷰 안에 핸들이 있다

우리 원래 윈도우에서 SetHwnd 함수를 하나 만들어놓고  
얘만 MFC에서 호출하믄댄?다

게임 코어의 Run에서 윈도우 런은 돌 필요가 없다
그래서 코어에 ToolRun이라고 하나 만들것, MFC에서는 얘를호출할거임
CoreInit이랑 CoreRelease도 주석처리하고 다른데에서 호출할거
무한반복 안되게 while도 주석처리하고 그냥 프레임하고 렌더 한번만 돌아가도록
 
InitInstance에서(맞제?) 샘플에 윈도우 핸들까진 넣어놓고 CoreInit도 호출할거다
ExitInstance에 CoreRelease 호출할꺼고

아 근데 기존 CoreInit이런거 프라이빗 되어있는데 귀찮으니까 일단 퍼블릭으로 풀어삠
근데 그냥 ToolCoreInit 일케 새로 만들어도 된다

이제 프레임/렌더만 어따 여놓으면 되는데, 화면이 갱신되는게 뷰 창? 
뷰 창에 뭐가 있냐면요 윈도우에 관련된 		// 아니 그래서 뭐가있는데여;

OnIdle? 메세지 다돌리고 나서 돌아가는거? 
이거를 재정의해서 여따가 프레임 렌더를 넣?으심 -> 근데 이러케 하지 마세요 절대로 
MFC에 관련된 재정의 함수들은요 되도록이면 수작업하지 마세요? 예? 
손쉽게 작업할 수 있는 방법이 다 있다, 

MFC애들은 클래스 뷰가 좋다? 뎃.. 	// 보기 -> 클래스 뷰 -> 클래스 우클릭 -> 속성 -> 뭐 재정의던 메세지던 이제 맘대루
속성 창? 속성 창의 속성 여기 가서 OnIdle - 옆에 빈칸 클릭하고 재정의 하면 뿅 생긴다 -> 이래서 수작업하지 말라고 하신거다, 이쪾이 더 간단하니까인가?
-> 얘는 ToolApp꺼임, View꺼 아님

메세지마다 함수가 하나 호출되도록 되어있는 시스템, WM_SIZE 오른쪽에 빈칸 클릭해서 재정의 하면 OnSize 이런게 생긴다,
얘는 WM_SIZE 메세지가 올때마다 호출되는 함수, 여따가 기존의 리사이즈 함수를 넣으면되나? 

엥 근데 원래 리사이즈디바이스에 g_클라 라이트 바텀이 매개변수 width height로 갱신되도록 하셨는데, 원래 이런기능 없었나?? 있지않았어? 

OnIdle 함수에서 false가 넘어가면 메세지 호출? 암튼 뭐시기가 안된다? 그래서 그냥 무조건 TRUE 리턴하도?록
그리고 코어 프레임 렌더 돌아가도록
오 리사이즈 잘되네이제.. 중간과정이 굉장히 몬가몬가긴한데;


한 번 만 더해볼거야, 게임 툴에다가 한번 더할거야, 얘는 출력+속성이 붙어있다는 차이만 있다 
여기서는 다중 상속으로 해결해버릴게? (CTGameToolApp에다가 퍼블릭 TGameCore일케상속시킴)
그럼 ToolApp얘가 샘플이야; 근데 뭐시기가 아무튼 별로 안좋다, 
그래서 아까처럼 그냥 샘플 만들어낼께여 
어.. 결과적으로 아까랑 비?슷하네


아무튼 이제 디바이스 잘 뜨고 리사이즈 잘 되니까, 샘플에 있던거 고대~로 갖다붙일꺼야
샘플에서 GAME_RUN 이것만 지워주면 되?나 아 pch.h 얘가 필?요해요? 
모든 cpp에는 pch.h 가 붙어야한다 (근데 그럼 다른 헤더파일 없이 pch.h만 붙여도 되나?)
라이브러리에 있으면 이런짓 안해도 된다, 나중에 바꾸실랑가


투영행렬이 지금 리사이즈가 안되어있다~ 
그래서 그 맵띄우고 박스움직이고 이런거 복붙하셨는데 뭐 잘 되긴 하는데 좀 찌그라쟈보임 -> 투영행렬이 갱신이안대서?
MFC의 여러 기능들을 활용해서 빨리빨리 몬가모몬가를할수있다

샘플에다가 CreateDXResource 이걸 재정의를 해놓을게요? -> 투영행렬 때문에 달아놓는거에요
원래꺼 고대로 호출하고, 추가적으로 커렌트씬이 있으면?(내껀저렇게안해놨을건디아마)
아무튼 샘플의 CreateDXResource에서 카메라의 투영행렬도 갱?신을 해준다 -> 일단 임시조치같음, 정상적으로 돌아가도록 하려면 라이브러리에서 모몬가를 좀 바꾸던가 해야할듯
-> 나는 저거 Camera의 Update 안에서 투영행렬 한번 더만들게 시켜서 해결했음


아무튼 맵띄우는거랑 Fbx랑 합쳐가 띄우니까 쌤은 캐릭터들이 박스 안에 쏙 들어갈정도로 작네
왠지 내껀 졸라클거같은데;; 먼차이가있는걸까..


툴의 기능으로 지형 생성 하고, 툴의 기능으로 캐릭터 띄우고 -> ?ㅅ?
맵 툴의 기능으로서 맵이 만들어지게 수정을 좀 해야할거고, 근데 지금은 게임 툴이라서 전반적으로 할꺼?
앞으로 게임 툴에서 작업을 할거고 KGCA툴은 그냥 참고만 해라

씬을 완전히 뺀다.. 근데 내 샘플에선 씬 없어진지 한참됐는걸! 
뭘 자꾸 없애고 계신데 그냥 씬 관련된 것만 빼신듯
아무튼 지금 뭘 하려는것이느느냐 -> 코딩이 아니라 맵 툴을 이용해서 맵을 뿌려보겟다
그런게 가능하다니? 막 엔진에서 캐릭터 드래그로 띄우고 이런느끼밈가

와 맞네 대충 그런느낌이네 ㄷㄷ 이래서 툴이구나; 거의 엔진인데? 
툴 하나 만들어서 남한테 보여주려면 엄청난 노가다의 작업량을 필요로 한다



킹늘의 할일
1. 일단 그냥 샘플만 대충 만들어가 돌리보기
2. 맵이던 Fbx던 암거나 저기 툴로 돌려보기
3. 금요일날 했던거.. 진도 따라가기